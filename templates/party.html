{% extends "base.html" %}

{% block content %}

<!-- MVC TEMPLATES -->
<script type="text/template" id="queue-tempate">
  <ul class="list-group music-queue">
  </ul>
</script>

<script type="text/template" id="queue-item-template">
      <img class="album-art img-rounded" src=<%=albumarturl%> >
      &nbsp;
      <span class="song-name"><%=songname%></span>
      <%=songartist%>
      <div class="deleteButton dj">
          <i data-id=<%=songID%> class="fa fa-times"></i>
      </div>
      <div class="votes">
        <div class="thumbCount">
            <div data-voted=<%=downvoted%> class="icon downvote">
            <i data-id=<%=songID%> data-vote=-1 data-downvoted=<%=downvoted%> class="fa thumbs fa-thumbs-down"></i>
            </div>
            <div class="thumbCountNum">
            <%=downvotes%>
            </div>
        </div>
        <div class="thumbCount">
            <div data-voted=<%=upvoted%> class="icon upvote">
            <i data-id=<%=songID%> data-vote=1 data-upvoted=<%=upvoted%> class="fa thumbs fa-thumbs-up"></i>
            </div>
            <div class="thumbCountNum">
            <%=upvotes%>
            </div>
        </div>
      </div>
</script>
<!-- /MVC TEMPLATES -->

<!-- Hidden YTPlayer -->
<div id="player"></div>


<div class="container">
    <div class="row" style="padding-top:60px">
        <div class="col-md-10">
            <div class="jumbotron">

                <div class="row">
                    <div class="col-sm-5">
                        <h3>Now Playing</h3>
                        <div class="well">
                            <div class="album-art"></div>
                            <div class="music-data">
                            <h4>
                                <font color="#d9230f"> <div class="now-playing-song-name"></div> </font>
                                <br>
                                <small>
                                    <div class="song-artist"></div>
                                    <br>
                                    <div class="song-album"></div>
                                </small>
                                <br> <br>
                                <a class="glyphicon glyphicon-step-backward dj"  onClick="prevVideo()"></a>
                                <a class="glyphicon glyphicon-play play dj"  onClick="playVideo()"></a>
                                <a class="glyphicon glyphicon-step-forward dj"  onClick="nextVideo()"></a>
                            </h4>
                        </div>
                    </div>
                </div>

                    <div class="col-sm-7">
                        <h3>Queue</h3>


                        <!-- MCV Queue Region -->
                        <div id="queue-region"></div>

                        <!-- SEARCH -->
			<div id="SearchSongDynamic">
			</div>

                    </div>
                </div>
            </div>
        </div>

        <div class="col-md-2">
	  <center>
            <h5> Party ID: {{partyID}}</h5> <br>
            <img class="img-responsive" src=https://api.qrserver.com/v1/create-qr-code/?size=512x512&data=http://vynl.party/{{partyID}} >
	  </center>
        </div>
    </div>

    {% endblock content %}

    {% block scripts %}
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/3.8.0/lodash.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/backbone.js/1.1.2/backbone-min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/backbone.marionette/2.4.1/backbone.marionette.min.js"></script>
    <script src="/static/js/app.js"></script>
	<script type="text/jsx" src="/static/js/script.js"></script>

    <script>
      var apiKey = 'AIzaSyCotdvV8u6NXowT24nFcd1Tlh4XEn56nlg';
      function handleClientLoad() {
      gapi.client.setApiKey(apiKey);
      gapi.client.load('youtube', 'v3', function() {});
      console.log("youtube client loaded");
      }
    </script>

    <script src="https://apis.google.com/js/client.js?onload=handleClientLoad"></script>
    {% endblock scripts %}
